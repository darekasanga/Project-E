<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Apply Functionality</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 4px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        input, select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            margin-bottom: 15px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        button:hover {
            background: #0056b3;
        }
        button.secondary {
            background: #6c757d;
        }
        button.secondary:hover {
            background: #545b62;
        }
        .status {
            margin-top: 15px;
            padding: 10px;
            border-radius: 4px;
            font-size: 14px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .output {
            margin-top: 15px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 4px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ§ª Apply Functionality Test</h1>
        <p>This page tests the "apply" functionality pattern used in the Project-E application.</p>

        <div class="section">
            <h2>Test 1: Apply Settings</h2>
            <label for="setting1">Setting 1:</label>
            <input type="text" id="setting1" placeholder="Enter a value">
            
            <label for="setting2">Setting 2:</label>
            <select id="setting2">
                <option value="option1">Option 1</option>
                <option value="option2">Option 2</option>
                <option value="option3">Option 3</option>
            </select>
            
            <button id="applyBtn">Apply Settings</button>
            <button id="resetBtn" class="secondary">Reset</button>
            
            <div id="status1"></div>
            <div id="output1" class="output" style="display:none;"></div>
        </div>

        <div class="section">
            <h2>Test 2: Apply from Source</h2>
            <label for="sourceSelect">Select Source:</label>
            <select id="sourceSelect">
                <option value="">-- Select a source --</option>
                <option value="source1">Source 1: Sample Data A</option>
                <option value="source2">Source 2: Sample Data B</option>
                <option value="source3">Source 3: Sample Data C</option>
            </select>
            
            <label for="targetField">Target Field:</label>
            <input type="text" id="targetField" placeholder="Will be populated from source" readonly>
            
            <button id="applySourceBtn">Apply from Source</button>
            
            <div id="status2"></div>
        </div>

        <div class="section">
            <h2>Test Results</h2>
            <div id="testResults" class="output">
                Tests not yet run. Click "Apply" buttons above to test functionality.
            </div>
        </div>
    </div>

    <script>
        // Test data sources
        const dataSources = {
            source1: "Sample Data A: This is test data from source 1",
            source2: "Sample Data B: This is test data from source 2",
            source3: "Sample Data C: This is test data from source 3"
        };

        // State management
        let appliedSettings = {
            setting1: '',
            setting2: ''
        };

        // Test 1: Apply Settings
        document.getElementById('applyBtn').addEventListener('click', function() {
            const setting1 = document.getElementById('setting1').value;
            const setting2 = document.getElementById('setting2').value;
            const status = document.getElementById('status1');
            const output = document.getElementById('output1');

            if (!setting1.trim()) {
                status.className = 'status error';
                status.textContent = 'Error: Setting 1 is required';
                return;
            }

            appliedSettings.setting1 = setting1;
            appliedSettings.setting2 = setting2;

            status.className = 'status success';
            status.textContent = 'âœ“ Settings applied successfully!';
            
            output.style.display = 'block';
            output.textContent = `Applied Settings:\nSetting 1: ${setting1}\nSetting 2: ${setting2}`;

            updateTestResults('Test 1 PASSED: Settings applied correctly');
        });

        // Reset button
        document.getElementById('resetBtn').addEventListener('click', function() {
            document.getElementById('setting1').value = '';
            document.getElementById('setting2').selectedIndex = 0;
            document.getElementById('status1').textContent = '';
            document.getElementById('output1').style.display = 'none';
            appliedSettings = { setting1: '', setting2: '' };
            updateTestResults('Settings reset');
        });

        // Test 2: Apply from Source (similar to applyCopySource in blog-edit.html)
        document.getElementById('applySourceBtn').addEventListener('click', function() {
            const sourceSelect = document.getElementById('sourceSelect');
            const targetField = document.getElementById('targetField');
            const status = document.getElementById('status2');
            const selectedValue = sourceSelect.value;

            if (!selectedValue) {
                status.className = 'status error';
                status.textContent = 'Error: Please select a source';
                return;
            }

            const sourceData = dataSources[selectedValue];
            if (!sourceData) {
                status.className = 'status error';
                status.textContent = 'Error: Source data not found';
                return;
            }

            targetField.value = sourceData;
            status.className = 'status success';
            status.textContent = `âœ“ Data applied from ${sourceSelect.options[sourceSelect.selectedIndex].text}`;

            updateTestResults('Test 2 PASSED: Source data applied correctly');
        });

        // Update test results
        function updateTestResults(message) {
            const results = document.getElementById('testResults');
            const timestamp = new Date().toLocaleTimeString();
            results.textContent += `\n[${timestamp}] ${message}`;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateTestResults('Test page loaded successfully');
        });
    </script>
</body>
</html>
