<!doctype html>
<html lang="ja">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Emperor News | Project-E</title>
<link rel="stylesheet" href="/assets/base.css">
<body>
  <header class="site-header">
    <div class="brand">
      <div class="logo">E</div>
      <div>
        <h1>Emperor News</h1>
        <p>スマホ / タブレット / PC 全面刷新</p>
      </div>
    </div>
    <div class="actions">
      <a class="pill primary" href="/blog-list.html">一覧ビュー</a>
      <a class="pill ghost" href="/admin.html">管理画面</a>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="inline-chips">
        <div class="badge" id="heroBadge">New UI</div>
        <div class="badge" id="heroMeta">レスポンシブ更新</div>
      </div>
      <h2 id="heroTitle">全ページをレスポンシブで作り直しました</h2>
      <p id="heroBody">スマホは片手で読みやすく、タブレットは横幅を活かし、PCはサイド情報付きで一覧性を高めました。すべてのページで共通のナビゲーションとダークテーマを採用しています。</p>
      <div class="tag-row" id="heroTags"></div>
      <div class="actions" id="heroActions">
        <a class="button primary" href="/blog-list.html">ブログ一覧ビュー</a>
        <a class="button ghost" href="/blog-article.html">単体記事</a>
        <a class="button ghost" href="/blog-edit.html">記事編集</a>
      </div>
    </section>

    <section class="section">
      <div class="section-title">
        <h2>注目記事</h2>
        <span class="muted">横スクロールでチェック</span>
      </div>
      <div class="scroll-row">
        <article class="featured-card">
          <div class="featured-thumb" aria-hidden="true"></div>
          <div class="featured-pill">特集</div>
          <h3>生成AIで記事制作を高速化</h3>
          <p>編集部のワークフローを自動化し、下書き生成から校閲まで一気通貫で支援する最新ツールをレビュー。</p>
          <div class="featured-meta">
            <span>テック / プロダクト</span>
            <span>8分</span>
          </div>
        </article>
        <article class="featured-card gradient-blue">
          <div class="featured-thumb" aria-hidden="true"></div>
          <div class="featured-pill">インタビュー</div>
          <h3>著名ブロガーが語る「書き続ける理由」</h3>
          <p>PVや収益だけではない、ファンとの共創や長期のブランド形成をどう捉えているのかを深堀りしました。</p>
          <div class="featured-meta">
            <span>カルチャー</span>
            <span>6分</span>
          </div>
        </article>
        <article class="featured-card gradient-gold">
          <div class="featured-thumb" aria-hidden="true"></div>
          <div class="featured-pill">速報</div>
          <h3>新デバイス発表イベントをリアルタイム更新</h3>
          <p>現地からの写真と試用インプレッションを随時更新。UI/UXの細部をスクリーンショット付きで追います。</p>
          <div class="featured-meta">
            <span>ガジェット</span>
            <span>ライブ</span>
          </div>
        </article>
        <article class="featured-card gradient-purple">
          <div class="featured-thumb" aria-hidden="true"></div>
          <div class="featured-pill">連載</div>
          <h3>デザインシステム刷新の舞台裏</h3>
          <p>統一されたコンポーネント設計とアクセシビリティ改善を、実装例とともにシリーズで解説します。</p>
          <div class="featured-meta">
            <span>UI/UX</span>
            <span>10分</span>
          </div>
        </article>
      </div>
    </section>

    <section class="section">
      <div class="section-title">
        <h2>最新記事</h2>
        <span class="muted">縦スクロールでまとめ読み</span>
      </div>
      <div class="list-shell latest-list">
        <div class="list" id="latestList"></div>
      </div>
    </section>

    <section class="grid-2">
      <article class="card">
        <div class="badge">スマホビュー</div>
        <h3>タップしやすい縦積み</h3>
        <p>1カラム構成と大きめのタッチターゲットで、iPhoneサイズでも余白にゆとりを持たせています。横スクロールの特集カードも指で操作しやすい幅に調整。</p>
      </article>
      <article class="card">
        <div class="badge">タブレットビュー</div>
        <h3>横幅を活かした2カラム</h3>
        <p>768〜1024px帯では、サムネイルと本文を横並びにし、サイドメタ情報も表示。Splitレイアウトで情報量と読みやすさを両立しています。</p>
      </article>
      <article class="card">
        <div class="badge">PCビュー</div>
        <h3>最大幅1200pxのワイドUI</h3>
        <p>記事一覧＋サイドバー、エディタとプレビューなど、PCでの操作性を優先した配置に。固定ヘッダーと段階的な余白で視線移動を最小化します。</p>
      </article>
      <article class="card">
        <div class="badge">管理・ツール</div>
        <h3>描画・チャット TOC も統一デザイン</h3>
        <p>管理ログイン、ブログ編集、描画ツール、チャットTOCメーカーも新しいベースレイアウトを適用。すべての機能が同じUI部品でまとまりました。</p>
      </article>
    </section>

    <section class="section">
      <div class="section-title">
        <h2>ページリンク</h2>
        <span class="muted">すべてレスポンシブ対応</span>
      </div>
      <div class="card-grid">
        <article class="card">
          <h3>🎨 Draw Board</h3>
          <p>新しいダークテーマとレスポンシブボタンで描画ツールも刷新。指でもマウスでも快適です。</p>
          <a class="button primary" href="/draw.html">開く</a>
        </article>
        <article class="card">
          <h3>🗂️ 管理ビュー</h3>
          <p>ログイン後のナビゲーション、認証エラー表示を更新し、リダイレクト導線も整理しました。</p>
          <a class="button ghost" href="/admin.html">開く</a>
        </article>
        <article class="card">
          <h3>📑 Blog (一覧)</h3>
          <p>スマホ1カラム、タブレット2カラム、PC2カラム＋サイドバー。新しい統計ウィジェット付き。</p>
          <a class="button ghost" href="/blog-list.html">開く</a>
        </article>
        <article class="card">
          <h3>✏️ Blog 編集</h3>
          <p>フォームとリストを整理し、編集状態やタグ表示を強調。保存後のフィードバックも改善。</p>
          <a class="button ghost" href="/blog-edit.html">開く</a>
        </article>
        <article class="card">
          <h3>💬 Chat TOC Maker</h3>
          <p>チャットの目次生成ツールを新レイアウトに刷新。レスポンシブでシンプルな入力に。</p>
          <a class="button ghost" href="/chat-toc.html">開く</a>
        </article>
        <article class="card">
          <h3>📰 記事ビュー</h3>
          <p>個別記事ページは本文とタグ、共有ボタンを再配置。読みやすさを優先した新デザインです。</p>
          <a class="button ghost" href="/blog-article.html">開く</a>
        </article>
      </div>
    </section>
  </main>

  <footer>
    <div class="section-title">
      <span>Project-E / Emperor News</span>
      <span class="tiny">スマホ・タブレット・PCで同じ体験を届けます。</span>
    </div>
  </footer>
  <script src="/assets/lightbox.js"></script>
  <script src="/assets/blog-data.js"></script>
  <script>
    const latestList = document.getElementById("latestList");
    const heroTitle = document.getElementById("heroTitle");
    const heroBody = document.getElementById("heroBody");
    const heroTags = document.getElementById("heroTags");
    const heroActions = document.getElementById("heroActions");
    const heroBadge = document.getElementById("heroBadge");
    const heroMeta = document.getElementById("heroMeta");

    const heroFallback = {
      title: "全ページをレスポンシブで作り直しました",
      body: "スマホは片手で読みやすく、タブレットは横幅を活かし、PCはサイド情報付きで一覧性を高めました。すべてのページで共通のナビゲーションとダークテーマを採用しています。",
      tags: ["スマホ対応", "タブレット", "PC"]
    };

    function formatRelative(index) {
      const base = Date.now() - index * 3_600_000 * 3;
      const diffHours = Math.max(1, Math.round((Date.now() - base) / 3_600_000));
      if (diffHours < 24) return `${diffHours}時間前`;
      const days = Math.round(diffHours / 24);
      return `${days}日前`;
    }

    function renderLatestList() {
      const articles = BlogData.loadArticles();
      latestList.innerHTML = "";

      if (!articles.length) {
        latestList.innerHTML = '<p class="muted">まだ記事がありません。管理画面から追加してください。</p>';
        return;
      }

      articles.slice(0, 4).forEach((article, idx) => {
        const isLatest = idx === 0;
        const primaryTag = article.tags?.[0];
        const detailLink = `/blog-article.html?id=${idx}`;
        const card = document.createElement("article");
        card.className = "list-card latest-card";
        card.innerHTML = `
          <div class="latest-top">
            <h3>${article.title || "無題の記事"}</h3>
            ${isLatest ? '<span class="badge">NEW</span>' : ""}
          </div>
          <p>${article.body || "本文がありません"}</p>
          <div class="latest-meta">
            <span>${formatRelative(idx)}</span>
            <span>${primaryTag ? `#${primaryTag}` : "タグなし"}</span>
            <span><a class="tag" href="${detailLink}">記事を読む</a></span>
          </div>
        `;
        latestList.appendChild(card);
      });
    }

    function renderHeroFromArticle() {
      const { article, idx } = BlogData.getHeroArticle();
      const articles = BlogData.loadArticles();
      heroTags.innerHTML = "";
      heroActions.innerHTML = "";

      if (!articles.length || !article) {
        heroBadge.textContent = "New UI";
        heroMeta.textContent = "レスポンシブ更新";
        heroTitle.textContent = heroFallback.title;
        heroBody.textContent = heroFallback.body;
        heroFallback.tags.forEach((tag) => {
          const chip = document.createElement("span");
          chip.className = "badge";
          chip.textContent = tag;
          heroTags.appendChild(chip);
        });
        heroActions.innerHTML = `
          <a class="button primary" href="/blog-list.html">ブログ一覧ビュー</a>
          <a class="button ghost" href="/blog-article.html">単体記事</a>
          <a class="button ghost" href="/blog-edit.html">記事編集</a>
        `;
        return;
      }

      heroBadge.textContent = "トップおすすめ";
      heroMeta.textContent = `ID ${idx}`;
      heroTitle.textContent = article.title || "無題の記事";
      heroBody.textContent = article.body || "本文がありません";

      if (article.tags?.length) {
        article.tags.forEach((tag) => {
          const link = document.createElement("a");
          link.className = "tag";
          link.href = `/tag.html?tag=${encodeURIComponent(tag)}`;
          link.textContent = `#${tag}`;
          heroTags.appendChild(link);
        });
      } else {
        heroTags.innerHTML = '<span class="badge">#untagged</span>';
      }

      const articleUrl = `${location.origin}/blog-article.html?id=${idx}`;
      const shareUrl = BlogData.buildOfficialLineShare(articleUrl);
      heroActions.innerHTML = `
        <a class="button primary" href="/blog-list.html">ブログ一覧ビュー</a>
        <a class="button ghost" href="${articleUrl}">この記事を読む</a>
        <a class="button ghost" href="${shareUrl}" target="_blank" rel="noreferrer">LINEで共有</a>
      `;
    }

    document.addEventListener("DOMContentLoaded", () => {
      renderHeroFromArticle();
      renderLatestList();
    });
  </script>
</body>
</html>
